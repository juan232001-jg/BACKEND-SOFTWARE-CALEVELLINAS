(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2252a3"],{e2dd:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.materias,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("MATERIAS")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"teal accent-4",dark:""}},"v-btn",o,!1),i),[t._v(" Nueva materia ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{elevation:"50"}},[a("v-card-title",[a("span",{attrs:{dark:""}},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"20",sm:"6",md:"4"}},[a("v-text-field",{attrs:{required:"",rules:t.nombreSede1,counter:15,label:"NOMBRE DE LA MATERIA"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{riquered:"",counter:100,rules:t.numeroSede1,label:"DESCRIPCION"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{color:"teal accent-4"},on:{click:t.close}},[t._v(" Cancel ")]),[a("v-btn",{staticClass:"ma-2",attrs:{color:"teal accent-4",disabled:t.dessavilitar},on:{click:t.save}},[t._v(" Guardar ")])]],2)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5",attrs:{color:"green"}},[t._v("ESTAS SEGURO DE QUE QUIERES ELIMINAR LA MATERIA "+t._s(t.nombre)+"?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",elevation:"2"},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"green",elvation:"2"},on:{click:t.deleteItemConfirm}},[t._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",color:"teal accent-4"},on:{click:function(e){return t.editItem(i)}}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"mx-1",attrs:{fab:"",color:"red",small:""},on:{click:function(e){return t.deleteItem(i)}}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-delete")])],1)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)},o=[],n=a("bc3a"),r=a.n(n),s=a("3d20"),c=a.n(s),l={data:function(){return{id:"",nombre:"",descripcion:"",corecto:"",mensaje1:"",dialog:!1,dialogDelete:!1,materias:[],components:{},headers:[{text:"NOMBRE DE LA MATERIA",align:"nombre",sortable:!1,value:"nombre"},{text:"DESCRIPCION",value:"descripcion"},{text:"FECHA",value:"createdAt"},{text:"OPCIONES",value:"actions",sortable:!1}],editedIndex:-1,nombreSede1:[function(t){return!!t||"EL NOMBRE DE LA MATERIA ES REQUERIDO"},function(t){return t.length<=15||"EL NOMBRE DE LA MATERIA DEBE TENER MENOS DE 15 CARACTERES"}],numeroSede1:[function(t){return!!t||"EL NUMERO DE LA SEDE ES REQUERIDO"},function(t){return t.length<=100||"EL NUMERO DE LA SEDE DEBE TENER MENOS DE 100 CARACTERES"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"NUEVA MATERIA":"EDITAR MATERIA"},dessavilitar:function(){return 0===this.nombre.length||0===this.descripcion.length}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarMaterias()},methods:{error:function(t){c.a.fire({icon:"error",title:"NOMBRE DE MATERIA",text:t})},msjAlerta:function(t){c.a.fire({position:"top",icon:"success",title:t,showConfirmButton:!1,timer:3e3})},listarMaterias:function(){var t=this,e={headers:{token:this.$store.state.token}};r.a.get("materias",e).then((function(e){console.log(e.data.materias),t.materias=e.data.materias})).catch((function(t){console.log(t.msg)}))},editItem:function(t){this.id=t._id,this.editedIndex=0,this.nombre=t.nombre,this.descripcion=t.descripcion,this.dialog=!0},deleteItem:function(t){this.nombre=t.nombre,this.dialogDelete=!0,this.id=t._id,this.editedIndex=0},deleteItemConfirm:function(){console.log(this.id);var t=this,e={headers:{token:this.$store.state.token}};r.a.delete("materias/".concat(this.id),e).then((function(){t.listarMaterias(),t.closeDelete(),t.corecto="MATERIA ELIMINADA CORECTAMENTE",t.msjAlerta(t.corecto)})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1,this.limpiar()},closeDelete:function(){var t=this;this.dialogDelete=!1,this.id="",this.limpiar(),this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},limpiar:function(){this.nombre="",this.descripcion="",this.ubicacion=""},save:function(){var t=this,e=this;if(-1===this.editedIndex){var a={headers:{token:this.$store.state.token}};r.a.post("materias",{nombre:this.nombre,descripcion:this.descripcion},a).then((function(){console.log("Guardadndo"),e.listarMaterias(),e.limpiar(),e.close(),e.corecto="MATERIA GUARDADA CORECTAMENTE",e.msjAlerta(e.corecto)})).catch((function(e){console.log(e.msg),t.mensaje1=e.response.data.errors[0].msg,t.error(t.mensaje1)}))}else{var i={headers:{token:this.$store.state.token}};r.a.put("materias/".concat(this.id),{nombre:this.nombre,descripcion:this.descripcion},i).then((function(){console.log("editando"),e.listarMaterias(),e.limpiar(),e.close(),e.corecto="MATERIA EDITADA CORECTAMENTE",e.msjAlerta(e.corecto)})).catch((function(t){console.log(t.msg)}))}this.close()}}},d=l,m=a("2877"),u=a("6544"),E=a.n(u),v=a("8336"),h=a("b0af"),f=a("99d9"),A=a("62ad"),b=a("a523"),p=a("8fea"),I=a("169a"),R=a("ce7e"),g=a("132d"),D=a("0fd9"),C=a("2fa4"),T=a("8654"),x=a("71d9"),M=a("2a7f"),k=Object(m["a"])(d,i,o,!1,null,null,null);e["default"]=k.exports;E()(k,{VBtn:v["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VCol:A["a"],VContainer:b["a"],VDataTable:p["a"],VDialog:I["a"],VDivider:R["a"],VIcon:g["a"],VRow:D["a"],VSpacer:C["a"],VTextField:T["a"],VToolbar:x["a"],VToolbarTitle:M["a"]})}}]);
//# sourceMappingURL=chunk-2d2252a3.1059ffb3.js.map